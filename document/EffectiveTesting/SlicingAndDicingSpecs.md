# 테스트 나누기 

우리가 테스트 코드를 작성할 때, 특정 테스트 코드를 수정한다고 하자. 

굉장히 많은 테스트가 쌓인 경우 하나를 수정한 후 테스트를 동작시키는데 엄청난 시간이 들 수 있다.

또한 기존의 코드를 변경하게 되면 연관된 모든 테스트 코드를 변경하지 않으면 테스트 코드를 통과하지 못 하는 경우도 생길 수 있다.

그래서 테스트 하고 싶은 대상만 골라 빠르게 테스트를 수행하기 위해서 선택하는 기능을 제공한다. 이 기능으로 테스트 하지 않을 테스트 항목을 모두 주석 처리하는 것을 대체할 수 있다.

테스트 라이브러리는 수정중인 테스트만 동작하도록 지정하거나, 특정 태그의 테스트만 동작시키거나, 특정 이름의 테스트만 동작시키거나, 잠시 제외할 테스트를 지정할 수 있는 옵션을 제공한다.

## only

수정 중인 테스트 하나만 또는 테스트 그룹 하나만 동작시키는 옵션이다.

```php
describe('결제 시스템', function () {
    it('카드 결제 성공', function () {
        // ...
    })->only(); 

    it('무통장 입금 성공', function () {
        // ...
    });
});
```

카드 결제 항목은 테스트가 실행되지만, 무통장 입금 항목은 테스트가 실행되지 않는다.

#### 주의점

`->only()`는 테스트 한 이후에는 반드시 지워줘야 한다. 그렇지 않으면 모든 테스트의 성공 여부가 아니라 하나의 테스트만 통과한 후 테스트 코드 잘 동작했다고 판단하는 실수가 생길 수 있다.

## group

각각의 테스트 항목 또는 그룹에 태그를 붙여 태그가 특정 태그만 지정해서 테스트를 실행시키는 기능이다.

```php
it('외부 결제 API 연동', function () {
    // ...
})->group('integration', 'slow');

it('할인 금액 계산', function () {
    // ...
})->group('unit', 'fast');
```

#### 빠른 테스트만 실행하기

```
./vendor/bin/pest --group=fast
```

#### 느린 테스트만 실행하기

```
./vendor/bin/pest --group=slow
```

#### 유닛 테스트만 실행하기

```
./vendor/bin/pest --group=unit
```

#### 통합 테스트만 실행하기

```
./vendor/bin/pest --group=integration
```

### 제외하여 실행하기

`--exclude-group`를 사용하면 제외하고 실행할 수 있다.

#### 통합 테스트만 제외하고 실행하기

```
./vendor/bin/pest --exclude-group=integration
```
