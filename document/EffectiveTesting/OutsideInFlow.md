# Outside-In 개발 흐름

애플리케이션의 **외부 동작(사용자 경험)**부터 정의하고, 이를 구현하기 위해 **내부 구성 요소(클래스/메서드)**의 테스트를 작성하는 흐름으로 테스트를 작성한다.

## Red - Green - Refactor

#### Red

실패하는 테스트를 작성한다. 구현하고 싶은 기능의 요구사항을 점진적으로 만들어가기 위한 최소한의 테스트 코드를 먼저 작성하고 이에 맞는 코드를 작성하는 단계이다.

작성한 코드가 정의된 최소한의 테스트 코드를 통과하지 못한다면 Green의 단계로 진행한다.

#### Green

실패한 코드를 개선하여 테스트를 통과시키기 위한 최소한의 코드를 작성한다. 코드의 좋고 나쁨을 따지지 않고 우선은 Red 단계에서 정의된 테스트를 통과하는 것을 목표로 코드를 작성한다.

작성된 코드가 테스트 코드를 통과했다면 Refactor 단계로 진행한다.

#### Refactor

Green 단계에서 일단 테스트를 통과하기 위해 작성한 테스트 통과는 그대로 유지한 채 좀 더 좋은 코드를 작성하기 위해서 리펙토링한다. 리펙토링의 단계에서 테스트는 동일하게 통과할 수 있어야 한다.

만약 테스트할 동작이 추가적으로 필요하거나 사양이 추가가 되거나 테스트의 엣지 케이스 등이 추가가 된다면 Green 단계에서 추가적인 테스트를 정의하는 Red 단계로 가며, 통과되지 않은 테스트가 있는 Red 단계의 테스트로는 갈 수 없다.

## Outside-In 전략 적용하기

서비스의 이용자 측면(외부) 부터 시작해서 각 기능을 담당하는 세부 로직(내부)까지의 과정으로 개발을 진행하는 전략이다.

서비스 이용자의 측면인 웹 페이지의 태그들이 잘 작동하는지, 사용자 인증에 관해서는 특별한 문제가 없는지를 테스트 할 수 있다.

Outside (Feature Test): 가장 먼저 **사용자 관점의 큰 테스트(Feature Test)**를 작성하고 이 테스트를 통과할 때까지 테스트를 통과하지 못하는 코드를 계속 업데이트 한다.

Inside (Unit Test): Feature Test를 통과시키기 위해 필요한 작은 단위의 **단위 테스트(Unit Test)**를 작성하고, 이를 통과시키는 코드를 만든다 (Green).

작은 단위의 테스트 코드를 통과시키면서 큰 테스트를 통과 시킬 때까지 작은 단위의 코드를 계속 작성하는 과정으로 코드를 작성하는 기법이다.
